# Admin panel for banner system
Tools:
* JDK 1.8
* MySQL
* Apache Tomcat
* Apache Maven
* Spring: Boot, JdbcTemplate, MVC, Security
* Frontend: vuejs, Typescript, less, jquery, webpack


1. Установка и настройка окружения

    * JDK 1.8
    * MySQL
    * Apache Maven
    * папка, открытая для чтения/записи, для хранения изображений
    * опционально - Apache Tomcat
    * интернет для успешного первого деплоя (скачиваются npm и node)

2. Создание и инициализация базы данных

    БД - MySQL
    
    ddl и dml
    
    Запускаем сначала ddl, после этого dml.
    
    Первая команда ddl создает схему banner. 
    
    Если хочется поменять, то не забываем изменить подключение в application.properties.
    
    dml создаст первого пользователя admin с паролем admin и три локали.
    
3. Выводы
    
    Обычное spring boot приложение с необычным ui.
    
    Что-бы быстро наладить сборку и деплой нужен некоторый практический опыт.
    
    Если бы можно было использовать JPA, было бы проще.
    
    До начала работы нужно более тщательно вникать в тз. 
    
    Как минимум, что бы сразу правильно составить БД.
    
    Горизонтальная разработка комфортнее вертикальной,
     но требует большего опыта и понимания следующего шага.
     
    О killer-features лучше думать в самом конце.
    
    Мощность железа критична для разработки.
    
4. Неучтенные требования

    Задание выполнено полностью. Но по моему мнению не сделал следующее:

    Настроил security по упрощенной схеме: один пользователь - одна роль.
    
    Не настроил свои Excrptions.
    
    Не стал делать слой DTO.
    
    Не прикрутил логирование (на тех же аспектах, что и аудит).
    
    Less использовал по минимуму.
    
    Jquery не использовал (с возможностями vue, вижу применение jquery по большей части в анимации, а так же есть несколько полезных плагинов, например bootstrap или sweetalert).
    
    Недоприкрутил message.properties.
    
    Не адаптивный дизайн.
    
5. Инструкция по конфигурации и настройке

    * Общее:
        
        Создаем папку на жестком диске, открытую для чтения/записи, для хранения изображений
        
        Прописываем в application.properties полный путь. Например path_root_dir=/opt/apache-tomcat-8.5.35.
        
        Настраиваем подключение к БД в application.properties.
        
        Выполняем ddl и dml.
        
    * Development:
    
        Заменяем свойства в application.properties:
        
            spring_profile_active=dev
            # server.port=9000
            # порт по желанию
            # порт для ui указвается в webpack.dev.js
            
            # contextPath=/Banner
            # обязательно закомментировать

    * Prodaction:
            
        Заменяем свойства в application.properties:
        
            spring_profile_active=prod
            
        Если запускаем embedded tomcat (mvn spring-boot:run)
            
            server.port=9000
            # порт по желанию
           
            # contextPath=/Banner
            # нужно закоментировать
                      
        Если запускаем external tomcat (mvn clean package)
           
            # server.port=9000
            # порт указывается в настройках tomcat
           
            contextPath=/<Папка куда развернули>
            # По дефолту стоит contextPath=/Banner
            # Т.к. в pom.xml указано <finalName>Banner</finalName>

6. Трудности выполнения задания
    
    Подобрать плагины для связки Vuejs и typescript.
    
    Деплой затянулся, были проблемы с маршрутизацией запросов.
    
    Вместо less было бы проще использовать bootstrap.
    
7. Обратная связь

    Нужно немного подправить язык задания, что-то было сложным для восприятия.
    
    Вопросы, которые я задал в процессе выполнения:
        
        1. В описании задачи сущность баннера не содержит поля description, но в бизнес-требованиях есть пункт: "предоставлять интерфейс для получения описания баннеров, который будут использовать клиенты". Что имеется в виду под "описание баннеров"? Или это по своему усмотрению?
        2. В сущности баннера есть поле локали - langId. Данное поле подразумевает полноценную локаль (каждый баннер может существовать в разных локалях) или данное поле предоставляет только возможность для работы с баннерами, сгруппированными по языковому признаку, как описано в бизнес-требованиях?
        3. Локали и администраторы фиксированые? Т.е. функционал добавления новых не нужен?
        4. На сколько полным должен быть аудит действий администраторов баннерной системы? Достаточно только фиксации CRUD операций или необходимо запоминание состояний баннеров?
        5. Сортировка баннеров. Имеется в виду возможность задания веса баннеров для кастомной сортировки администратором?
        6. Учитывать возможность одновременного управления баннерами несколькими администраторами?
        7. Нужен ли ресайз слишком больших изображений?
        8. Можно ли использовать что-то сверх указанных технологий? Например аспекты.